{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nconst keyAPI = \"54675250-921b736f026c47058d05b606e\";\nconst urlAPI = \"https://pixabay.com/api/\";\n\n\nexport const  getImagesByQuery = query => {\n      return axios.get(urlAPI, {params:{\n        \"key\": keyAPI,\n        \"q\": `${query}`,\n        \"image_type\": \"photo\",\n        \"orientation\": \"horizontal\",\n        \"safesearch\": true\n    }}).then(response => response.data.hits);\n}\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {loader} from \"../main.js\";\nimport { gallery } from \"../main.js\";\n\nimport {inputHandle} from \"../main.js\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n let lightbox = new SimpleLightbox(\".gallery a\");\n\nexport function createGallery(images){\n return images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n `<li class=\"gallery-list\">\n <a class=\"gallery-link\" href=\"${largeImageURL}\">\n <img class=\"gallery-img\" src=\"${webformatURL}\" alt =\"${tags}\" width=\"360\" height=\"200\"/>\n </a>\n <ul class=\"info\">\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Likes</h3>\n <p class=\"gallery-item-text\">${likes}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Views</h3>\n <p class=\"gallery-item-text\">${views}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Comments</h3>\n <p class=\"gallery-item-text\">${comments}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Downloads</h3>\n <p class=\"gallery-item-text\">${downloads}</p>\n </li>\n </ul>\n </li>`).join(\"\");\n}\n   \nexport function markup(images){\n    gallery.innerHTML = createGallery(response);\n    lightbox.refresh();\n}\n\nexport function clearGallery(){\n   gallery.innerHTML = \"\";\n}\n\nexport function showLoader(){\n    loader.classList.remove(\"hide\");\n}\n\nexport function hideLoader(){\n loader.classList.add(\"hide\");\n}\n \nexport function showError(){\n     iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: \"#fafafb\",\n                backgroundColor: \"#ef4040\",\n                messageSize: \"16px\",\n                position: \"topRight\",\n                icon: 'material-icons',\n            })\n }","\nimport {getImagesByQuery} from \"./js/pixabay-api.js\";\nimport * as render from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input\");\nexport const gallery = document.querySelector(\".gallery\");\nexport const loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", handleSubmit);\ngallery.addEventListener(\"click\", handleClick);\n\n\nexport let inputHandle = \"\";\n\n function handleSubmit(event){\n    event.preventDefault();\n    render.showLoader(); \n    render.clearGallery();\n   inputHandle = input.value.trim();\n    if(inputHandle === \"\"){\n        render.hideLoader()\n        return;\n    }\n    processingResponse()\n    render.hideLoader()\n}\n\nfunction processingResponse(){\n    getImagesByQuery(inputHandle)\n    .then(response => {\n        if(response.length === 0){\n           showError();\n        } \n        render.markup;\n})\n    .catch(error => {\n        showError();\n})\n    .finally(message => {\n        hideLoader();\n    })   \n}\n    \nfunction handleClick(event){\nif (!event.target.classList.contains(\"gallery-img\")){\n return;\n}\n}\n"],"names":["keyAPI","urlAPI","getImagesByQuery","query","axios","response","SimpleLightbox","clearGallery","gallery","showLoader","loader","hideLoader","form","input","handleSubmit","handleClick","inputHandle","event","render.showLoader","render.clearGallery","render.hideLoader","processingResponse","error","message"],"mappings":"6vBAGA,MAAMA,EAAS,qCACTC,EAAS,2BAGDC,EAAmBC,GACpBC,EAAM,IAAIH,EAAQ,CAAC,OAAO,CAC/B,IAAOD,EACP,EAAK,GAAGG,CAAK,GACb,WAAc,QACd,YAAe,aACf,WAAc,EACtB,CAAK,CAAC,EAAE,KAAKE,GAAYA,EAAS,KAAK,IAAI,ECH3B,IAAIC,EAAe,YAAY,EAkCxC,SAASC,GAAc,CAC3BC,EAAQ,UAAY,EACvB,CAEO,SAASC,GAAY,CACxBC,EAAO,UAAU,OAAO,MAAM,CAClC,CAEO,SAASC,GAAY,CAC3BD,EAAO,UAAU,IAAI,MAAM,CAC5B,CCnDA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC/BL,EAAU,SAAS,cAAc,UAAU,EAC3CE,EAAS,SAAS,cAAc,SAAS,EAEtDE,EAAK,iBAAiB,SAAUE,CAAY,EAC5CN,EAAQ,iBAAiB,QAASO,CAAW,EAGtC,IAAIC,EAAc,GAExB,SAASF,EAAaG,EAAM,CAKzB,GAJAA,EAAM,eAAc,EACpBC,IACAC,IACDH,EAAcH,EAAM,MAAM,OACtBG,IAAgB,GAAG,CAClBI,EAAmB,EACnB,MACH,CACDC,EAAoB,EACpBD,EAAmB,CACvB,CAEA,SAASC,GAAoB,CACzBnB,EAAiBc,CAAW,EAC3B,KAAKX,GAAY,CACXA,EAAS,SAAW,GACpB,WAGX,CAAC,EACI,MAAMiB,GAAS,CACZ,WACR,CAAC,EACI,QAAQC,GAAW,CAChB,YACR,CAAK,CACL,CAEA,SAASR,EAAYE,EAAM,CACtBA,EAAM,OAAO,UAAU,SAAS,aAAa,CAGlD"}