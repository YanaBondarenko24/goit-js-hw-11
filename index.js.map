{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nconst keyAPI = \"54675250-921b736f026c47058d05b606e\";\nconst urlAPI = \"https://pixabay.com/api/\";\n\n\nexport const  getImagesByQuery = query => {\n      return axios(urlAPI, {params:{\n        \"key\": keyAPI,\n        \"q\": `${query}`,\n        \"image_type\": \"photo\",\n        \"orientation\": \"horizontal\",\n        \"safesearch\": true\n    }}) \n}\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {loader} from \"../main.js\";\nimport { gallery } from \"../main.js\";\nimport {getImagesByQuery} from \"./pixabay-api.js\";\nimport {inputHandle} from \"../main.js\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n let lightbox = new SimpleLightbox(\".gallery a\");\n\nexport function createGallery(images){\n return images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n `<li class=\"gallery-list\">\n <a class=\"gallery-link\" href=\"${largeImageURL}\">\n <img class=\"gallery-img\" src=\"${webformatURL}\" alt =\"${tags}\" width=\"360\" height=\"200\"/>\n </a>\n <ul class=\"info\">\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Likes</h3>\n <p class=\"gallery-item-text\">${likes}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Views</h3>\n <p class=\"gallery-item-text\">${views}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Comments</h3>\n <p class=\"gallery-item-text\">${comments}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Downloads</h3>\n <p class=\"gallery-item-text\">${downloads}</p>\n </li>\n </ul>\n </li>`).join(\"\");\n}\n   \nexport function processingResponse(){\n        getImagesByQuery(inputHandle)\n    .then(response => {\n        response.data;\n        const responseUser = response.data.hits;\n        if(responseUser.length === 0){\n           showError();\n        } \n    gallery.innerHTML = createGallery(responseUser);\n    lightbox.refresh();\n})\n    .catch(error => {\n        showError();\n})\n    .finally(message => {\n        hideLoader();\n    })   \n}\n    \n\n\nexport function clearGallery(){\n   gallery.innerHTML = \"\";\n}\n\nexport function showLoader(){\n    loader.classList.remove(\"hide\");\n}\n\nexport function hideLoader(){\n loader.classList.add(\"hide\");\n}\n \nfunction showError(){\n     iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: \"#fafafb\",\n                backgroundColor: \"#ef4040\",\n                messageSize: \"16px\",\n                position: \"topRight\",\n                icon: 'material-icons',\n            })\n }","\n\nimport * as render from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input\");\nexport const gallery = document.querySelector(\".gallery\");\nexport const loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", handleSubmit);\ngallery.addEventListener(\"click\", handleClick);\n\n\nexport let inputHandle = \"\";\n\n function handleSubmit(event){\n    event.preventDefault();\n    render.showLoader(); \n    render.clearGallery();\n   inputHandle = input.value.trim();\n    if(inputHandle === \"\"){\n        render.hideLoader()\n        return;\n    }\n    render.processingResponse()\n}\n\nfunction handleClick(event){\nif (!event.target.classList.contains(\"gallery-img\")){\n return;\n}\n}\n"],"names":["keyAPI","urlAPI","getImagesByQuery","query","axios","lightbox","SimpleLightbox","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","processingResponse","inputHandle","response","responseUser","showError","gallery","error","message","hideLoader","clearGallery","showLoader","loader","iziToast","form","input","handleSubmit","handleClick","event","render.showLoader","render.clearGallery","render.hideLoader","render.processingResponse"],"mappings":"owBAGA,MAAMA,EAAS,qCACTC,EAAS,2BAGDC,EAAmBC,GACpBC,EAAMH,EAAQ,CAAC,OAAO,CAC3B,IAAOD,EACP,EAAK,GAAGG,CAAK,GACb,WAAc,QACd,YAAe,aACf,WAAc,EACtB,CAAK,CAAC,ECHL,IAAIE,EAAW,IAAIC,EAAe,YAAY,EAExC,SAASC,EAAcC,EAAO,CACpC,OAAOA,EAAO,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACxF;AAAA,iCACgCL,CAAa;AAAA,iCACbD,CAAY,WAAWE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gCAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA,OAGlC,EAAE,KAAK,EAAE,CAChB,CAEO,SAASC,GAAoB,CAC5Bd,EAAiBe,CAAW,EAC/B,KAAKC,GAAY,CACdA,EAAS,KACT,MAAMC,EAAeD,EAAS,KAAK,KAChCC,EAAa,SAAW,GACxBC,IAEPC,EAAQ,UAAYd,EAAcY,CAAY,EAC9Cd,EAAS,QAAO,CACpB,CAAC,EACI,MAAMiB,GAAS,CACZF,GACR,CAAC,EACI,QAAQG,GAAW,CAChBC,GACR,CAAK,CACL,CAIO,SAASC,GAAc,CAC3BJ,EAAQ,UAAY,EACvB,CAEO,SAASK,GAAY,CACxBC,EAAO,UAAU,OAAO,MAAM,CAClC,CAEO,SAASH,GAAY,CAC3BG,EAAO,UAAU,IAAI,MAAM,CAC5B,CAEA,SAASP,GAAW,CACfQ,EAAS,MAAM,CACJ,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,YAAa,OACb,SAAU,WACV,KAAM,gBACtB,CAAa,CACb,CC9EA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC/BT,EAAU,SAAS,cAAc,UAAU,EAC3CM,EAAS,SAAS,cAAc,SAAS,EAEtDE,EAAK,iBAAiB,SAAUE,CAAY,EAC5CV,EAAQ,iBAAiB,QAASW,CAAW,EAGtC,IAAIf,EAAc,GAExB,SAASc,EAAaE,EAAM,CAKzB,GAJAA,EAAM,eAAc,EACpBC,IACAC,IACDlB,EAAca,EAAM,MAAM,OACtBb,IAAgB,GAAG,CAClBmB,EAAmB,EACnB,MACH,CACDC,EAA2B,CAC/B,CAEA,SAASL,EAAYC,EAAM,CACtBA,EAAM,OAAO,UAAU,SAAS,aAAa,CAGlD"}