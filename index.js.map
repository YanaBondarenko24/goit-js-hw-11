{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {loader} from \"../main.js\";\nimport { gallery } from \"../main.js\";\nimport {getImagesByQuery} from \"./pixabay-api.js\";\nimport {inputHandle} from \"../main.js\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n let lightbox = new SimpleLightbox(\".gallery a\");\n\nexport function createGallery(images){\n return images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n `<li class=\"gallery-list\">\n <a class=\"gallery-link\" href=\"${largeImageURL}\">\n <img class=\"gallery-img\" src=\"${webformatURL}\" alt =\"${tags}\" width=\"360\" height=\"200\"/>\n </a>\n <ul class=\"info\">\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Likes</h3>\n <p class=\"gallery-item-text\">${likes}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Views</h3>\n <p class=\"gallery-item-text\">${views}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Comments</h3>\n <p class=\"gallery-item-text\">${comments}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Downloads</h3>\n <p class=\"gallery-item-text\">${downloads}</p>\n </li>\n </ul>\n </li>`).join(\"\");\n}\n   \n\n\n\nexport function clearGallery(){\n   gallery.innerHTML = \"\";\n}\n\nexport function showLoader(){\n    loader.classList.remove(\"hide\");\n}\n\nexport function hideLoader(){\n loader.classList.add(\"hide\");\n}\n \nfunction showError(){\n     iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: \"#fafafb\",\n                backgroundColor: \"#ef4040\",\n                messageSize: \"16px\",\n                position: \"topRight\",\n                icon: 'material-icons',\n            })\n }","\n\nimport * as render from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input\");\nexport const gallery = document.querySelector(\".gallery\");\nexport const loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", handleSubmit);\ngallery.addEventListener(\"click\", handleClick);\n\n\nexport let inputHandle = \"\";\n\n function handleSubmit(event){\n    event.preventDefault();\n    render.showLoader(); \n    render.clearGallery();\n   inputHandle = input.value.trim();\n    if(inputHandle === \"\"){\n        render.hideLoader()\n        return;\n    }\n    processingResponse()\n    render.hideLoader()\n}\n\nexport function processingResponse(){\n        getImagesByQuery(inputHandle)\n    .then(response => {\n        if(response.length === 0){\n           showError();\n        } \n    gallery.innerHTML = createGallery(response);\n    lightbox.refresh();\n})\n    .catch(error => {\n        showError();\n})\n    .finally(message => {\n        hideLoader();\n    })   \n}\n    \nfunction handleClick(event){\nif (!event.target.classList.contains(\"gallery-img\")){\n return;\n}\n}\n"],"names":["SimpleLightbox","clearGallery","gallery","showLoader","loader","hideLoader","form","input","handleSubmit","handleClick","inputHandle","event","render.showLoader","render.clearGallery","render.hideLoader","processingResponse","response","error","message"],"mappings":"svBAWgB,IAAIA,EAAe,YAAY,EAgCxC,SAASC,GAAc,CAC3BC,EAAQ,UAAY,EACvB,CAEO,SAASC,GAAY,CACxBC,EAAO,UAAU,OAAO,MAAM,CAClC,CAEO,SAASC,GAAY,CAC3BD,EAAO,UAAU,IAAI,MAAM,CAC5B,CCjDA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC/BL,EAAU,SAAS,cAAc,UAAU,EAC3CE,EAAS,SAAS,cAAc,SAAS,EAEtDE,EAAK,iBAAiB,SAAUE,CAAY,EAC5CN,EAAQ,iBAAiB,QAASO,CAAW,EAGtC,IAAIC,EAAc,GAExB,SAASF,EAAaG,EAAM,CAKzB,GAJAA,EAAM,eAAc,EACpBC,IACAC,IACDH,EAAcH,EAAM,MAAM,OACtBG,IAAgB,GAAG,CAClBI,EAAmB,EACnB,MACH,CACDC,EAAoB,EACpBD,EAAmB,CACvB,CAEO,SAASC,GAAoB,CAC5B,iBAAiBL,CAAW,EAC/B,KAAKM,GAAY,CACXA,EAAS,SAAW,GACpB,YAEPd,EAAQ,UAAY,cAAcc,CAAQ,EAC1C,SAAS,QAAO,CACpB,CAAC,EACI,MAAMC,GAAS,CACZ,WACR,CAAC,EACI,QAAQC,GAAW,CAChB,YACR,CAAK,CACL,CAEA,SAAST,EAAYE,EAAM,CACtBA,EAAM,OAAO,UAAU,SAAS,aAAa,CAGlD"}